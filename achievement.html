<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Achievement</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <style>
        header{
            height:200px;
            font-size: 50px;
            text-align:center;
        }
    </style>
</head>

<body>
    <header>達成度実績</header>
<script>
var dataset = [
  { "date": "211001", "a_percentage": 87 },
  { "date": "211002", "a_percentage": 83 },
  { "date": "211003", "a_percentage": 104 },
  { "date": "211004", "a_percentage": 107 },
  { "date": "211005", "a_percentage": 112 },
  { "date": "211006", "a_percentage": 93 },
  { "date": "211007", "a_percentage": 111 },
  { "date": "211008", "a_percentage": 102 },
  { "date": "211009", "a_percentage": 99 },
  { "date": "211010", "a_percentage": 90 },
  { "date": "211011", "a_percentage": 114 },
  { "date": "211012", "a_percentage": 99 },
]
var width = 900; // グラフの幅
var height = 600; // グラフの高さ
var padding = 36; // スペース設定　

// SVGの設定
var svg = d3.select("body").append("svg").attr("width", width).attr("height", height);

// 軸スケールの設定
var xScale = d3.scaleBand()
                .rangeRound([padding, width - padding])
                .padding(0.2)
                .domain(dataset.map(function(d) { return d.date; }));

var yScale = d3.scaleLinear()
                .domain([0, d3.max(dataset, function(d) { return d.a_percentage; })])
                .range([height - padding, padding]);

// 軸の描画
svg.append("g")
    .attr("transform", "translate(" + 0 + "," + (height - padding) + ")")
    .call(d3.axisBottom(xScale));

svg.append("g")
    .attr("transform", "translate(" + padding + "," + 0 + ")")
    .call(d3.axisLeft(yScale));

// 棒グラフの描画
svg.append("g")
    .selectAll("rect")
    .data(dataset)
    .enter()
    .append("rect")
    .attr("x", function(d) { return xScale(d.date); })
    .attr("y", function(d) { return yScale(d.a_percentage); })
    .attr("width", xScale.bandwidth())
    .attr("height", function(d) { return height - padding - yScale(d.a_percentage); })
    .attr("fill", "#00bfff");
</script>
</body>
</html>